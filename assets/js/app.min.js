window.resbook={};(function(p){var t=document,j=window,e=t.URL,x=t.title,f=null,l=null,m=null,c=null,q=null,h=null,k=null,n=null,g=true,r=false,o=false,a={smartphonePortrait:[320,480],smartphoneLandscape:[480,320],tabletPortrait:[1024,768],tabletLandscape:[768,1024],auto:"auto"},s=function(y){var w=t.querySelector("#wrapper iframe");w=(w.contentWindow)?w.contentWindow:(w.contentDocument.document)?w.contentDocument.document:w.contentDocument;var d=w.document.querySelector("body");if(y){var B=w.document.getElementById("cssrefresh");if(B){B.parentNode.removeChild(B);d.classList.remove("cssrefresh")}}else{var z=w.document.createTextNode("(function(){var script=document.createElement('script');script.setAttribute('src','//responsive.victorcoulon.fr/assets/js/cssrefresh.js');script.setAttribute('id','cssrefresh');var head=document.getElementsByTagName('head');head[0].appendChild(script)})()"),A=w.document.createElement("script");d.classList.add("cssrefresh");A.appendChild(z);w.document.body.appendChild(A)}},i=function(){var d=t.querySelector("#wrapper iframe");d.src+=""},v=function(d,y,z){d=d||f.clientWidth;y=y||f.clientHeight;n.innerHTML=d+"x"+y},b=function(y,z,w){var B=(y=="auto")?j.innerWidth:y[0],d=(y=="auto")?j.innerHeight:y[1],A="width:"+B+"px;height:"+d+"px;margin-top:20px;";if(typeof(B)=="undefined"||typeof(d)=="undefined"){return false}A+=(y==="auto")?"margin-top:0;":"";f.setAttribute("style",A);f.setAttribute("data-device",w);k.setAttribute("style","min-height:"+d+"px;min-width:"+B+"px;");v(B,d);if(y==="auto"&&!z){r=false;setTimeout(function(){f.setAttribute("style","");k.setAttribute("style","");o=false},260)}else{o=false}},u=function(y,w){var d=setInterval(function(){if(t.getElementById(y)){w(t.getElementById(y));clearInterval(d)}},60)};p.changeUrl=function(d,w){t.title=w+" - Responsive test";if(history.pushState){try{history.pushState({},"New Page",d)}catch(y){}}if(q.classList.contains("active")){s()}else{s(true)}};u("wrapper",function(){f=t.getElementById("wrapper");l=t.getElementById("devices");n=t.getElementById("size");m=t.querySelector(".close a");c=t.querySelector(".keyboard a");q=t.querySelector(".cssrefresh a");h=t.querySelector(".reloadiframe a");k=t.querySelector("body");if(window.chrome||(window.getComputedStyle&&!window.globalStorage&&!window.opera)){}if(j.location.protocol!=="http:"){q.setAttribute("style","display:none")}else{h.setAttribute("style","display:none")}[].forEach.call(document.querySelectorAll("#devices a"),function(d){d.addEventListener("click",function(y){[].forEach.call(document.querySelectorAll("#devices a"),function(z){z.classList.remove("active")});y.preventDefault();y.stopPropagation();var w=this;if((w.classList.contains("auto")&&r===false)||o===true){return false}o=true;if(r===false){r=true;b(a.auto,true)}setTimeout(function(){w.classList.add("active");if(w.classList.contains("smartphone-portrait")){b(a.smartphonePortrait,false,"smartphonePortrait")}else{if(w.classList.contains("smartphone-landscape")){b(a.smartphoneLandscape,false,"smartphoneLandscape")}else{if(w.classList.contains("tablet-portrait")){b(a.tabletPortrait,false,"tabletPortrait")}else{if(w.classList.contains("tablet-landscape")){b(a.tabletLandscape,false,"tabletLandscape")}else{if(w.classList.contains("auto")){b(a.auto,false,"auto")}}}}}},10)})});m.addEventListener("click",function(d){d.preventDefault();d.stopPropagation();j.location=t.URL},false);c.addEventListener("click",function(d){d.preventDefault();d.stopPropagation();c.classList.toggle("active");f.classList.toggle("keyboard")},false);q.addEventListener("click",function(d){d.preventDefault();d.stopPropagation();q.classList.toggle("active");if(q.classList.contains("active")){s()}else{s(true)}},false);h.addEventListener("click",function(d){d.preventDefault();d.stopPropagation();i()},false);j.addEventListener("resize",function(){v()},false);j.addEventListener("keyup",function(y){var d=y.keyCode?y.keyCode:y.charCode,w={49:"tabletPortrait",50:"tabletLandscape",51:"smartphonePortrait",52:"smartphoneLandscape",53:"auto",116:"reloadIframe",82:"reloadIframe"};if(typeof(w[d])=="undefined"){return false}else{if(y.metaKey&&w[d]=="reloadIframe"){y.preventDefault();y.stopPropagation();i();return false}else{if(w[d]=="reloadIframe"){y.preventDefault();y.stopPropagation();i();return false}else{b(a[w[d]],false,w[d])}}}},false);v();n.style.minWidth=0})})(resbook);
